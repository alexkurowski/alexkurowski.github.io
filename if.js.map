{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/scripts/if/game.ts","webpack:///./src/scripts/if/index.ts","webpack:///./src/scripts/if/input.ts","webpack:///./src/scripts/if/log.ts"],"names":[],"mappings":"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","file":"if.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/scripts/if/index.ts\");\n","import { Log } from './log';\n\nexport module Game {\n  export function init() {\n    Log.add(\"ZORK I: The Great Underground Empire\");\n  }\n\n  export function update(command: string[]) {\n    Log.clear();\n    Log.add(\"ZORK I: The Great Underground Empire\", true);\n    Log.add(`Your command: ${ command.join(' ') }.`);\n  }\n}\n","import { Input } from './input';\nimport { Log } from './log';\nimport { Game } from './game';\n\nInput.init();\nLog.init();\nGame.init();\n\nInput.focus();\nLog.scrollDown();\n","import { Game } from './game';\n\nexport module Input {\n  let element: HTMLInputElement;\n\n  export function init() {\n    element = <HTMLInputElement>document.getElementById('input');\n\n    document.addEventListener('keyup', function (event) {\n      switch (event.keyCode) {\n        case 13: {\n          submit();\n          focus();\n        } break;\n\n        case 27: {\n          clear();\n          focus();\n        } break;\n      }\n    });\n\n    element.addEventListener('blur', function () {\n      focus();\n    });\n\n    document.addEventListener('click', function () {\n      focus();\n    });\n  }\n\n  export function focus() {\n    element.focus();\n  }\n\n  function submit() {\n    let command: string[] = parse();\n    Game.update(command);\n    clear();\n  }\n\n  function clear() {\n    element.value = \"\";\n  }\n\n  function parse(): string[] {\n    return element\n      .value\n      .toLowerCase()\n      .split(' ')\n      .filter(s => s);\n  }\n}\n","export module Log {\n  let element: HTMLElement;\n\n  export function init() {\n    element = document.getElementById('log');\n  }\n\n  export function scrollDown() {\n    window.scrollTo(0, document.body.scrollHeight);\n  }\n\n  export function add(text: string, immediate: boolean = false) {\n    let paragraph = document.createElement('p');\n    element.appendChild(paragraph);\n\n    if (immediate) {\n      lineImmediateReveal(paragraph, text);\n    } else {\n      paragraph.setAttribute('role', 'alert');\n      lineReveal(paragraph, text);\n    }\n  }\n\n  function lineRevealSpeed(length: number): number {\n    if (length < 100)\n      return 10;\n    if (length < 300)\n      return 7;\n    if (length < 500)\n      return 3;\n    else\n      return 1;\n  }\n\n  function lineImmediateReveal(paragraph: HTMLElement, text: string) {\n    paragraph.textContent = text;\n    scrollDown();\n  }\n\n  function lineReveal(paragraph: HTMLElement, text: string) {\n    let index: number = 0,\n        speed: number = lineRevealSpeed(text.length),\n        interval: number;\n\n    interval = setInterval(function () {\n      paragraph.textContent += text[index];\n      index++;\n      scrollDown();\n\n      if (index >= text.length) {\n        clearInterval(interval);\n      }\n    }, speed);\n  }\n\n  export function clear() {\n    while (element.lastChild) {\n      element.removeChild(element.lastChild);\n    }\n  }\n}\n"],"sourceRoot":""}